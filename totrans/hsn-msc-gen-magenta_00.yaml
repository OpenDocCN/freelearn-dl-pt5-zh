- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The place of machine learning in art is becoming more and more strongly established
    because of recent advancements in the field. Magenta is at the forefront of that
    innovation. This book provides a hands-on approach to machine learning models
    for music generation and demonstrates how to integrate them into an existing music
    production workflow. Complete with practical examples and explanations of the
    theoretical background required to understand the underlying technologies, this
    book is the perfect starting point to begin exploring music generation.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
- en: In *Hands-On Music Generation with Magenta*, you'll learn how to use models
    in Magenta to generate percussion sequences, monophonic and polyphonic melodies
    in MIDI, and instrument sounds in raw audio. We'll be seeing plenty of practical
    examples and in-depth explanations of machine learning models, such as **Recurrent
    Neural Networks** (**RNNs**), **Variational Autoencoders** (**VAEs**), and **G****enerative
    Adversarial Networks** (**GANs**). Leveraging that knowledge, we'll be creating
    and training our own models for advanced music generation use cases, and we'll
    be tackling the preparation of new datasets. Finally, we'll be looking at integrating
    Magenta with other technologies, such as **Digital Audio Workstations** (**DAWs**),
    and using Magenta.js to distribute music generation applications in the browser.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
- en: By the end of this book, you'll be proficient in everything Magenta has to offer
    and equipped with sufficient knowledge to tackle music generation in your own
    style.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
- en: Who this book is for
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This book will appeal to both technically inclined artists and musically inclined
    computer scientists. It is directed to any reader who wants to gain hands-on knowledge
    about building generative music applications that use deep learning. It doesn't
    assume any musical or technical competence from you, apart from basic knowledge
    of the Python programming language.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
- en: What this book covers
  id: totrans-6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '[Chapter 1](c5602f6c-c094-42f2-936f-98746cf04a49.xhtml), *Introduction to Magenta
    and Generative Art*, will show you the basics of generative music and what already
    exists. You''ll learn about the new techniques of artwork generation, such as
    machine learning, and how those techniques can be applied to produce music and
    art. Google''s Magenta open source research platform will be introduced, along
    with Google''s open source machine learning platform TensorFlow, along with an
    overview of its different parts and the installation of the required software
    for this book. We''ll finish the installation by generating a simple MIDI file
    on the command line.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 2](b60deee5-c58f-45eb-88a2-23718802e580.xhtml), *Generating Drum Sequences
    with the Drums RNN*, will show you what many consider the foundation of music—percussion.
    We''ll show the importance of RNNs for music generation. You''ll then learn how
    to use the Drums RNN model using a pre-trained drum kit model, by calling it in
    the command-line window and directly in Python, to generate drum sequences. We''ll
    introduce the different model parameters, including the model''s MIDI encoding,
    and show how to interpret the output of the model.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 3](48023567-4100-492a-a28e-53b18a63e01e.xhtml), *Generating Polyphonic
    Melodies*, will show the importance of **Long Short-Term Memory** (**LSTM**) networks
    in generating longer sequences. We''ll see how to use a monophonic Magenta model,
    the Melody RNN—an LSTM network with a loopback and attention configuration. You''ll
    also learn to use two polyphonic models, the Polyphony RNN and Performance RNN,
    both LSTM networks using a specific encoding, with the latter having support for
    note velocity and expressive timing.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 4](838da33e-26a9-4701-bfd3-5014dfff4146.xhtml), *Latent Space Interpolation
    with MusicVAE*, will show the importance of continuous latent space of VAEs and
    its importance in music generation compared to standard **autoencoders** (**AEs**).
    We''ll use the MusicVAE model, a hierarchical recurrent VAE, from Magenta to sample
    sequences and then interpolate between them, effectively morphing smoothly from
    one to another. We''ll then see how to add groove, or humanization, to an existing
    sequence, using the GrooVAE model. We''ll finish by looking at the TensorFlow
    code used to build the VAE model.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 5](feb070b7-92ac-4762-a4ac-7c1a797a47ef.xhtml), *Audio Generation
    with NSynth and GANSynth*, will show audio generation. We''ll first provide an
    overview of WaveNet, an existing model for audio generation, especially efficient
    in text to speech applications. In Magenta, we''ll use NSynth, a Wavenet Autoencoder
    model, to generate small audio clips, that can serve as instruments for a backing
    MIDI score. NSynth also enables audio transformation like scaling, time stretching
    and interpolation. We''ll also use GANSynth, a faster approach based on GAN.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 6](1ca56e24-b4d2-40de-b4cf-ae6bbb3c0eef.xhtml), *Data Preparation
    for Training*, will show how training our own models is crucial since it allows
    us to generate music in a specific style, generate specific structures or instruments.
    Building and preparing a dataset is the first step before training our own model.
    To do that, we first look at existing datasets and APIs to help us find meaningful
    data. Then, we build two datasets in MIDI for specific styles—dance and jazz.
    Finally, we prepare the MIDI files for training using data transformations and
    pipelines.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 7](6f012812-5c24-44d4-b8cb-ddfd3ed78f5c.xhtml), *Training Magenta
    models*, will show how to tune hyperparameters, like batch size, learning rate,
    and network size, to optimize network performance and training time. We’ll also
    show common training problems such as overfitting and models not converging. Once
    a model''s training is complete, we''ll show how to use the trained model to generate
    new sequences. Finally, we''ll show how to use the Google Cloud Platform to train
    models faster on the cloud.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 8](cafc52b5-bd8c-41ba-a6f0-eb002405ffca.xhtml), *Magenta in the browser
    with Magenta.js*, will show a JavaScript implementation of Magenta that gained
    popularity for its ease of use, since it runs in the browser and can be shared
    as a web page. We''ll introduce TensorFlow.js, the technology Magenta.js is built
    upon, and show what models are available in Magenta.js, including how to convert
    our previously trained models. Then, we''ll create small web applications using
    GANSynth and MusicVAE for sampling audio and sequences respectively. Finally,
    we''ll see how Magenta.js can interact with other applications, using the Web
    MIDI API and Node.js.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 9](8018122a-b28e-44ff-8533-5061a0ad356b.xhtml), *Making Magenta Interact
    with Music Applications*, will show how Magenta fits in a broader picture by showing
    how to make it interact with other music applications such as DAWs and synthesizers.
    We''ll explain how to send MIDI sequences from Magenta to FluidSynth and DAWs
    using the MIDI interface. By doing so, we''ll learn how to handle MIDI ports on
    all platforms and how to loop MIDI sequences in Magenta. We''ll show how to synchronize
    multiple applications using MIDI clocks and transport information. Finally, we''ll
    cover Magenta Studio, a standalone packaging of Magenta based on Magenta.js that
    can also integrate into Ableton Live as a plugin.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: To get the most out of this book
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This book doesn't require any specific knowledge about music or machine learning
    to enjoy, as we'll be covering all the technical aspects regarding those two subjects
    throughout the book. However, we do assume that you have some programming knowledge
    using Python. The code we provide is thoroughly commented and explained, though,
    which makes it easy for newcomers to use and understand.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
- en: The provided code and content works on all platforms, including Linux, macOS,
    and Windows. We'll be setting up the development environment as we go along, so
    you don't need any specific setup before we start. If you already are using an
    **Integrated Development Environment** (**IDE**) and a DAW, you'll be able to
    use them during the course of this book.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
- en: Download the example code files
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You can download the example code files for this book from your account at [www.packt.com](http://www.packt.com).
    If you purchased this book elsewhere, you can visit [www.packtpub.com/support](https://www.packtpub.com/support)
    and register to have the files emailed directly to you.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
- en: 'You can download the code files by following these steps:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
- en: Log in or register at [www.packt.com](http://www.packt.com).
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the Support tab.
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on Code Downloads.
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter the name of the book in the Search box and follow the onscreen instructions.
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Once the file is downloaded, please make sure that you unzip or extract the
    folder using the latest version of:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
- en: WinRAR/7-Zip for Windows
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Zipeg/iZip/UnRarX for Mac
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 7-Zip/PeaZip for Linux
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The code bundle for the book is also hosted on GitHub at [https://github.com/PacktPublishing/Hands-On-Music-Generation-with-Magenta](https://github.com/PacktPublishing/Hands-On-Music-Generation-with-Magenta). In
    case there's an update to the code, it will be updated on the existing GitHub
    repository.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
- en: We also have other code bundles from our rich catalog of books and videos available
    at **[https://github.com/PacktPublishing/](https://github.com/PacktPublishing/)**.
    Check them out!
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
- en: Download the color images
  id: totrans-32
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'We also provide a PDF file that has color images of the screenshots/diagrams
    used in this book. You can download it here: [http://www.packtpub.com/sites/default/files/downloads/9781838824419_ColorImages.pdf](http://www.packtpub.com/sites/default/files/downloads/9781838824419_ColorImages.pdf).'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
- en: Conventions used
  id: totrans-34
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: There are a number of text conventions used throughout this book.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
- en: '`CodeInText`: Indicates code words in text, database table names, folder names,
    filenames, file extensions, pathnames, dummy URLs, user input, and Twitter handles.
    Here is an example: "Each time the step operation is called, the RNN needs to
    update its state, the hidden vector, `h`."'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
- en: 'A block of code is set as follows:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'When we wish to draw your attention to a particular part of a code block, the
    relevant lines or items are set in bold:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '**Bold**: Indicates a new term, an important word, or words that you see on
    screen. For example, words in menus or dialog boxes appear in the text like this.
    Here is an example: "The main reason to stick with **bar** throughout this book
    is to follow Magenta''s code convention, where bar is used more consistently than **measure**."'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
- en: Warnings or important notes appear like this.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
- en: Tips and tricks appear like this.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
- en: Code in Action
  id: totrans-46
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Visit the following link to check out videos of the code being run:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
- en: '[http://bit.ly/2uHplI4](http://bit.ly/2uHplI4)'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
- en: Get in touch
  id: totrans-49
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Feedback from our readers is always welcome.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
- en: '**General feedback**: If you have questions about any aspect of this book,
    mention the book title in the subject of your message and email us at `customercare@packtpub.com`.'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
- en: '**Errata**: Although we have taken every care to ensure the accuracy of our
    content, mistakes do happen. If you have found a mistake in this book, we would
    be grateful if you would report this to us. Please visit [www.packtpub.com/support/errata](https://www.packtpub.com/support/errata),
    selecting your book, clicking on the Errata Submission Form link, and entering
    the details.'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
- en: '**Piracy**: If you come across any illegal copies of our works in any form
    on the internet, we would be grateful if you would provide us with the location
    address or website name. Please contact us at `copyright@packt.com` with a link
    to the material.'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '**盗版**：如果您在互联网上发现我们作品的任何形式的非法副本，请您提供其位置地址或网站名称，我们将不胜感激。请通过 `copyright@packt.com`
    向我们发送链接。'
- en: '**If you are interested in becoming an author**: If there is a topic that you
    have expertise in and you are interested in either writing or contributing to
    a book, please visit [authors.packtpub.com](http://authors.packtpub.com/).'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: '**如果您有意成为作者**：如果您在某个专题有专业知识，并且有意撰写或为书籍贡献，请访问 [authors.packtpub.com](http://authors.packtpub.com/)。'
- en: Reviews
  id: totrans-55
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 评论
- en: Please leave a review. Once you have read and used this book, why not leave
    a review on the site that you purchased it from? Potential readers can then see
    and use your unbiased opinion to make purchase decisions, we at Packt can understand
    what you think about our products, and our authors can see your feedback on their
    book. Thank you!
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 请留下您的评论。一旦您阅读并使用了本书，为什么不在购买网站上留下您的评论呢？潜在读者可以看到并使用您的客观意见来做出购买决策，我们在 Packt 可以了解您对我们产品的看法，而我们的作者也可以看到您对他们书籍的反馈。谢谢！
- en: For more information about Packt, please visit [packt.com](http://www.packt.com/).
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 欲了解更多 Packt 的信息，请访问 [packt.com](http://www.packt.com/)。
