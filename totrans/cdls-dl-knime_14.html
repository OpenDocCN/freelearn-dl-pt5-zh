<html><head></head><body>
		<div id="_idContainer897">
			<h1 id="_idParaDest-193"><em class="italic"><a id="_idTextAnchor386"/>Chapter 11: </em>Best Practices and Other Deployment Options</h1>
			<p>In <a href="B16391_10_Final_VK_ePUB.xhtml#_idTextAnchor367"><em class="italic">Chapter 10</em></a>, <em class="italic">Deploying a Deep Learning Network</em>, we introduced the concept of deployment and we showed how to build a workflow to apply a network to new data. In this chapter, we will focus on two more deployment options using the KNIME software.</p>
			<p>In the first section of this chapter, you will learn how to deploy a deep learning model as a web application so that end users can execute, interact with, and control the application via a web browser. In order to implement a web application, we need to introduce the KNIME WebPortal, a feature of KNIME Server. Components play a central role in the development of web applications since they are used to implement the interaction points according to the <strong class="bold">Guided Analytics</strong> feature of the KNIME software. In this chapter, you will also learn more about components.</p>
			<p>Another deployment option to consume a deep learning model is a web service, through a REST interface. Web services have become very popular recently because they allow you to integrate and orchestrate a number of applications seamlessly and easily within the same ecosystem. In the second section of this chapter, you will learn how to build, deploy, and call workflows as REST services with the KNIME software.</p>
			<p>We will conclude this chapter with some best practice advice and tips and tricks for working with both neural networks and KNIME Analytics Platform. These best practices and tips and tricks originate from our own experiences of many years of working on deep learning projects, some of which have been described in this book.</p>
			<p>The chapter is organized into the following topics:</p>
			<ul>
				<li>Building a Web Application</li>
				<li><a id="_idTextAnchor387"/>Building a Web Service with the REST Interface</li>
				<li>KNIME Tips and Tricks</li>
			</ul>
			<h1 id="_idParaDest-194"><a id="_idTextAnchor388"/>Building a Web Application</h1>
			<p>In<a id="_idIndexMarker988"/> this section, we will show you the few steps needed to build a <strong class="bold">web application</strong> using the KNIME software. </p>
			<p>After a short introduction to <strong class="bold">KNIME</strong> <strong class="bold">WebPortal</strong>, we will show how to create composite views, how to include them to create interaction points, and how to structure the application into a sequence of web pages as interaction points, following the <strong class="bold">Guided Analytics</strong> principles.</p>
			<p>As an example, we will apply what we have learned to build a web application around the deployment workflow of the case study on cancer cell classification described in <a href="B16391_09_Final_NM_ePUB.xhtml#_idTextAnchor316"><em class="italic">Chapter 9</em></a>, <em class="italic">Convolutional Neural Networks for Image Classification</em>.</p>
			<h2 id="_idParaDest-195"><a id="_idTextAnchor389"/>Introduction to KNIME WebPortal </h2>
			<p>The first<a id="_idIndexMarker989"/> step in building a web application is to design and implement the sequence of web-based interaction points within the workflow. In a case study on the classification of cancer cells, our data scientist could build a deployment workflow with two interaction points: one to allow the end user to upload a histopathology slide image, and one to display the results on the final web page. In between those two interaction points, the workflow ingests the new image and executes the trained model to classify it. </p>
			<p>Once the workflow is ready, it will be transferred onto the production <strong class="bold">KNIME server</strong>. From now on, the workflow can be accessed on-demand through <strong class="bold">KNIME WebPortal</strong> via any web browser. This web-based interaction allows the pathologist to control the process without being familiar with KNIME Analytics Platform or the deep learning algorithm. <em class="italic">Figure 11.1</em> shows you what this web-based application could look like:</p>
			<div>
				<div id="_idContainer875" class="IMG---Figure">
					<img src="image/B16391_11_001.jpg" alt="igure 11.1 – A web application implemented by a KNIME workflow, running on KNIME Server, and called via KNIME WebPortal from any web browser&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption"><a id="_idTextAnchor390"/></p>
			<p class="figure-caption">Figure 11.1 – A web application implemented by a KNIME workflow, running on KNIME Server, and called via KNIME WebPortal from any web browser</p>
			<p>In this example, the<a id="_idIndexMarker990"/> web application is a very simple one. It has only two interaction points – that is, two web pages: the first one for the image upload and the second one to inspect the results. </p>
			<p>More complex web applications can be developed codelessly using this combination of KNIME Analytics Platform, KNIME Server, and KNIME WebPortal. Some examples of quite complex and very beautifully designed web applications, such as Guided Visualization, Guided Labeling, and Guided Automation, are <a id="_idIndexMarker991"/>available for download from the KNIME Hub (<a href="https://hub.knime.com">https://hub.knime.com</a>).</p>
			<p>In contrast to KNIME Analytics Platform, KNIME Server contains no data operations or model training algorithms. However, it contains the whole IT infrastructure to allow collaboration among team members, on-demand and scheduled execution of applications, a definition of the access rights for each registered user or group of users, model management, auditing features, and, of course, deployment options, as we will see in this chapter. Also, in contrast to KNIME Analytics Platform, KNIME Server is not open source but rather needs a yearly license. <em class="italic">Figure 11.2</em> shows the login page for KNIME WebPortal:</p>
			<p class="figure-caption"><a id="_idTextAnchor391"/></p>
			<div>
				<div id="_idContainer876" class="IMG---Figure">
					<img src="image/B16391_11_002.jpg" alt="Figure 11.2 – Login page for KNIME WebPortal"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.2 – Login page for KNIME WebPortal</p>
			<p>Among the many IT<a id="_idIndexMarker992"/> features available with KNIME Server, KNIME WebPortal allows you to see and manage workflows from any web browser. This seems a simple feature, but it can be the missing link between the data scientist and the end user.</p>
			<p class="callout-heading">Important note</p>
			<p class="callout">The end user is an expert in their domain and usually has neither the time nor the inclination to open KNIME Analytics Platform and investigate workflows and nodes. All the end user needs is a comfortable web-based application running on a web browser and showing only the information they need to see; at the very least, the page for the data upload and the final page summarizing the results. </p>
			<p>WebPortal does not need any special installation. It comes already pre-packaged with the installation of KNIME Server. However, its appearance can be easily customized through dedicated <em class="italic">CSS style sheets</em>. KNIME WebPortal only accepts registered users and requires logging in (<em class="italic">Figure 11.2</em>). </p>
			<p>After a successful login, the<a id="_idIndexMarker993"/> starting page appears with the folders you have been granted access to. Navigate to the workflow you would like to start and then press <strong class="bold">Run</strong> (<em class="italic">Figure 11.3</em>):<a id="_idTextAnchor392"/></p>
			<div>
				<div id="_idContainer877" class="IMG---Figure">
					<img src="image/B16391_11_003.jpg" alt="Figure 11.3 – Start page for a selected workflow on KNIME WebPortal"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.3 – Start page for a selected workflow on KNIME WebPortal</p>
			<p class="callout-heading">Important note</p>
			<p class="callout">KNIME Server is the<a id="_idIndexMarker994"/> complementary tool to KNIME Analytics Platform. While KNIME Analytics Platform has all the algorithms and data operations, KNIME Server provides the IT infrastructure for team-based collaboration, application automation, model management, and deployment options.</p>
			<p>Let's find out how a workflow must be structured to create a sequence of pages on KNIME WebPortal with defined interaction options. </p>
			<h2 id="_idParaDest-196"><a id="_idTextAnchor393"/>Creating a Workflow to Run on KNIME WebPortal</h2>
			<p>The execution of a workflow on KNIME WebPortal<a id="_idIndexMarker995"/> moves from one web page to the next.  These pages, also called wizard steps, offer the end user the possibility of visually guided actions to move and interact with the process. </p>
			<p>Now, it would be long and complicated if we had to build all those pages/steps from scratch. Luckily, there are <strong class="bold">components</strong>. Each page/step just visualizes the content of the <strong class="bold">composite view</strong> of a component in the underlying workflow. So, implementing a sequence of web pages for WebPortal in reality corresponds to just implementing a sequence of components with the required composite views.</p>
			<p>The upper part of <em class="italic">Figure 11.4</em> shows three web pages from an application running on KNIME WebPortal: a form to import customers from a database; a scatter plot and a table, connected to each other, to select some customers; and finally, a page displaying the information for the selected customers. The lower part of <em class="italic">Figure 11.4</em> shows the underlying workflow with the corresponding three components. The composite view of each component produces one page during the execution of the workflow on KNIME WebPortal<a id="_idTextAnchor394"/>:</p>
			<div>
				<div id="_idContainer878" class="IMG---Figure">
					<img src="image/B16391_11_004.jpg" alt="Figure 11.4 – Top: step execution of an application on KNIME WebPortal. Bottom: the corresponding workflow generating the web pages for the step execution"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.4 – Top: step execution of an application on KNIME WebPortal. Bottom: the corresponding workflow generating the web pages for the step execution</p>
			<p>The <a id="_idIndexMarker996"/>workflow in <em class="italic">Figure 11.4</em> is used as an example for a step execution of a workflow from a web browser and refers to a customer dataset. We will use only this dataset for this section since it allows us to show many different features used in component construction. This web application has been designed to allow the end user to inspect customer data and select customers with a high risk of churn to be contacted by a team member.</p>
			<p>The first component, <strong class="bold">Get Customers from Database</strong>, creates the first page on the left. Here, the end user must provide their username and password to connect to the database.</p>
			<p>After clicking on the <strong class="bold">Next</strong> button in the lower-right corner, the workflow is executed until the next component, <strong class="bold">Select Customers to Contact</strong>, is reached and the corresponding web page is created. On this page, the end user gets an overview of the customer data via a scatter plot and a table and selects the customers to contact. For the selection, the view provides two interaction options: select a product via the radio buttons in the upper-left corner or change the churn score using the range slider in the lower-left corner. The scatter plot and table are automatically updated according to the new selection parameters. Once the end user is happy with the selection, they click <strong class="bold">Next</strong> again to get to the last page of the web application.</p>
			<p>The final page is created by the <strong class="bold">Browse and Download Customers List</strong> component. Here, the data of each selected customer is reported in a tile view and can be exported into an Excel file. The workflow is available on the KNIME Hub: <a href="https://hub.knime.com/kathrin/spaces/Codeless%20Deep%20Learning%20with%20KNIME/latest/Chapter_11/">https://hub.knime.com/kathrin/spaces/Codeless%20Deep%20Learning%20with%20KNIME/latest/Chapter_11/</a>.</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">To open the interactive view of a component already in KNIME Analytics Platform, after execution, right-click the component and select <strong class="bold">Interactive View: &lt;name of the component&gt;</strong>.</p>
			<p>To <a id="_idIndexMarker997"/>summarize, again each of these pages is created by one component in the workflow and displays its interactive view. Components and their composite views are then the key elements to build workflows for web applications. </p>
			<p>Let's now see how a composite view can be created and customized.</p>
			<h2 id="_idParaDest-197"><a id="_idTextAnchor395"/>Creating Composite Views</h2>
			<p>The composite view<a id="_idIndexMarker998"/> of a component collects all interactive views from the <strong class="bold">View</strong> and <strong class="bold">Widget</strong> nodes contained inside.</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">To create a new component, you must select the nodes to include inside the component, then right-click and select the <strong class="bold">Create Component...</strong> option.</p>
			<p>Before looking deeper into the <strong class="bold">View</strong> and <strong class="bold">Widget</strong> nodes, let's have a look inside the <strong class="bold">Select Customer to Contact</strong> component (<em class="italic">Figure 11.<a id="_idTextAnchor396"/>5</em>):</p>
			<div>
				<div id="_idContainer879" class="IMG---Figure">
					<img src="image/B16391_11_005.jpg" alt="Figure 11.5 – Contents of the Select Customers to Contact component"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.5 – Contents of the Select Customers to Contact component</p>
			<p>In the lower-left<a id="_idIndexMarker999"/> part of the corresponding page, the end user has the option to define a threshold for the churn score via a slider. This interactive slider is created <a id="_idIndexMarker1000"/>by the <strong class="bold">Interactive Range Slider Filter Widget</strong> node. </p>
			<p>In the upper-left corner, the <a id="_idIndexMarker1001"/>option to select the product is created by the <strong class="bold">Interactive Value Filter Widget</strong> node. </p>
			<p>In addition, the page shows an interactive scatter plot and an interactive table. Those two views are <a id="_idIndexMarker1002"/>created<a id="_idIndexMarker1003"/> by the <strong class="bold">Scatter Plot</strong> node and the <strong class="bold">Table View</strong> node, respectively.</p>
			<p>As you can see, each widget/view node adds one piece to the final composite view and therefore to the corresponding page in WebPortal. </p>
			<p class="callout-heading">Tip</p>
			<p class="callout">In KNIME Analytics Platform, the view of each widget/view node is visible by right-clicking the node and selecting <strong class="bold">Interactive View:&lt;name of node&gt;</strong>.</p>
			<p>The nodes that can contribute pieces to a composite view can be categorized into three groups:</p>
			<ul>
				<li><strong class="bold">Widget nodes</strong></li>
				<li><strong class="bold">View nodes</strong></li>
				<li><strong class="bold">Interactive widget nodes </strong></li>
			</ul>
			<p>Let's have a look at each category in detail.</p>
			<h3>Widget Nodes</h3>
			<p>Widget nodes produce<a id="_idIndexMarker1004"/> a view with an interactive form for setting parameters. The newly set parameters are then exported as <strong class="bold">flow variables</strong> and can be used by other nodes down the line in <a id="_idIndexMarker1005"/>the workflow.</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">In <a href="B16391_02_Final_SK_ePUB.xhtml#_idTextAnchor051"><em class="italic">Chapter 2</em></a>, <em class="italic">Data Access and Preprocessing with KNIME Analytics Platform</em>, we introduced the concept of flow variables and how they can be used to overwrite setting options. </p>
			<p>Each widget node is specialized in producing one specific input or interaction form, such as string input, integer input, selecting one or many values from a list, and more. You can find all the available widget nodes in the Node Repository under <strong class="bold">Workflow Abstraction</strong> | <strong class="bold"> Widgets</strong>, as shown in <em class="italic">Fig<a id="_idTextAnchor397"/>ure 11.6</em>:</p>
			<div>
				<div id="_idContainer880" class="IMG---Figure">
					<img src="image/B16391_11_006.jpg" alt="Figure 11.6 – Available widget nodes in the Node Repository"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.6 – Available widget nodes in the Node Repository</p>
			<p>The widget nodes themselves can be<a id="_idIndexMarker1006"/> divided into three subgroups:</p>
			<ul>
				<li><strong class="bold">Input widget nodes</strong>: The <a id="_idIndexMarker1007"/>widget nodes in the <em class="italic">input</em> category produce an input form on a web page, which allows you to input values of different types into the workflow – integers, strings, Booleans, doubles, or lists – as well as data in other formats, such as date&amp;time or credentials.</li>
				<li><strong class="bold">Selection widget nodes</strong>: The widget<a id="_idIndexMarker1008"/> nodes in the <em class="italic">selection</em> category produce web forms to select values from a list, such as choosing a specific column from a data table, including/excluding multiple columns from a dataset, or selecting one or more values to filter data from a table. </li>
				<li><strong class="bold">Output widget nodes</strong>: These <a id="_idIndexMarker1009"/>widget nodes add custom text, links, or images to <a id="_idIndexMarker1010"/>the composite view.</li>
			</ul>
			<p>As an example, <em class="italic">Figure 11.7</em> shows the <strong class="bold">Single Selection Widget</strong> node<a id="_idIndexMarker1011"/> and its configu<a id="_idTextAnchor398"/>ration window:</p>
			<div>
				<div id="_idContainer881" class="IMG---Figure">
					<img src="image/B16391_11_007.jpg" alt="Figure 11.7 – The Single Selection Widget node and its configuration window "/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.7 – The Single Selection Widget node and its configuration window </p>
			<p>Most of the <a id="_idIndexMarker1012"/>widget nodes share some important settings, such as <strong class="bold">Label</strong>, <strong class="bold">Description</strong>, and <strong class="bold">Variable Name</strong>:</p>
			<ul>
				<li><strong class="bold">Label</strong>: This creates a label on top of the form created by the widget node.</li>
				<li><strong class="bold">Description</strong>: This value is shown as a tooltip on the widget form.</li>
				<li><strong class="bold">Variable Name</strong>: This gives the name of the flow variable created by the node. </li>
			</ul>
			<p>Let's have a look at the additional configuration settings for the <strong class="bold">Single Selection Widget</strong> node (<em class="italic">Figure 11.7</em>):</p>
			<ul>
				<li><strong class="bold">Selection Type</strong>: Defines the objects used for the selection: a drop-down menu, vertical or horizontal radio buttons, or a list</li>
				<li><strong class="bold">Possible Choices</strong>: Defines the list of available values to choose from</li>
				<li><strong class="bold">Default Value</strong>: Assigns an initial default value to the selection operation</li>
			</ul>
			<p>The standard widget node produces either some flow variables or a table as output, which can be used in the downstream nodes in the workflow. A special set of widget nodes are the interactive widget nodes.</p>
			<h3>View Nodes</h3>
			<p>View nodes<a id="_idIndexMarker1013"/> visualize data through interactive charts, plots, and tables. </p>
			<p><em class="italic">Figure 11.8</em> shows you an overview of the available view nodes in the N<a id="_idTextAnchor399"/>ode Repository:</p>
			<div>
				<div id="_idContainer882" class="IMG---Figure">
					<img src="image/B16391_11_008.jpg" alt="Figure 11.8 – Available view nodes in the Node Repository"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.8 – Available view nodes in the Node Repository</p>
			<p>If multiple view nodes are <a id="_idIndexMarker1014"/>present inside a component, their views interact with each other in the resulting component view; for example, via selection, data points selected in the view of one node can be selected or even isolated in the view of another node.</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">The <strong class="bold">Plotly</strong> nodes<a id="_idIndexMarker1015"/> and the <strong class="bold">JavaScript</strong> nodes in the <strong class="bold">Labs</strong> category offer even more interactive options to visualize your data <a id="_idIndexMarker1016"/>in composite views. Views from (local) nodes in the <strong class="bold">Local (Swing)</strong> category cannot be integrated into the composite view of a component.</p>
			<h3>Interactive Widget Nodes</h3>
			<p><strong class="bold">Interactive widget</strong> nodes are<a id="_idIndexMarker1017"/> special widget nodes. They implement filter events and feed view nodes. During execution, changes in the interactive widget nodes are reflected immediately in the views of the subsequent view nodes.</p>
			<p>At the time of writing, KNIME Analytics Platform offers two interactive widget nodes: the <strong class="bold">Interactive Range Slider Filter Widget</strong> node and the <strong class="bold">Interactive Value Filter Widget</strong> node.</p>
			<p>These nodes can be used to trigger updates in the composite view. In the configuration window of downstream view nodes, we can set whether or not this node should listen to the filter events from previous interactive widget nodes. If yes, the view produced by the view node is immediately updated when settings in the filter event of the previous interactive widget nodes change.</p>
			<p>In comparison to the standard widget nodes, these two nodes trigger direct filter events in the open composite view or web page. The flow variable created by a standard widget node can be used by a subsequent node but doesn't trigger direct changes in the open page or composite view.</p>
			<p>Now that we have an overview of the nodes available to build a composite view, let's customize the composite view of a component through some layout options.</p>
			<h3>Defining the Layout of a Composite View</h3>
			<p>You can define <a id="_idIndexMarker1018"/>a layout for the composite view of every component containing at least one widget or view node. </p>
			<p class="callout-heading">Tip</p>
			<p class="callout">To open a component in a new tab in the workflow editor, you must press <em class="italic">Ctrl</em> + double-click the component or right-click the component and select <strong class="bold">Component</strong> | <strong class="bold">Open</strong>.</p>
			<p>The layout in a composite view is set via the <strong class="bold">layout editor</strong> from inside the component. After opening the content of the component in a new tab in the workflow editor, click the layout editor button at the rightmost side of the top toolbar, as sh<a id="_idTextAnchor400"/>own in <em class="italic">Figure 11.9</em>:</p>
			<div>
				<div id="_idContainer883" class="IMG---Figure">
					<img src="image/B16391_11_009.jpg" alt="Figure 11.9 – Toolbar with layout editor button to the far right"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.9 – Toolbar with layout editor button to the far right</p>
			<p>Upon clicking on the layout editor button, the visual layout editor (<em class="italic">Fi<a id="_idTextAnchor401"/>gure 11.10</em>) opens:</p>
			<div>
				<div id="_idContainer884" class="IMG---Figure">
					<img src="image/B16391_11_010.jpg" alt="Figure 11.10 – Visual layout editor"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.10 – Visual layout editor</p>
			<p>The layout editor<a id="_idIndexMarker1019"/> uses a grid structure with rows and columns. </p>
			<p>On the left, there are row templates with different numbers of columns and a list of all the still-unplaced views. On the right, there is the layout editor itself. </p>
			<p>You can change the layout by adding new row templates via drag and drop from the template list on the left to the layout editor on the right. To add a new empty column, click the <strong class="bold">+</strong> button in the layout editor. Columns inside a row can be manually resized. </p>
			<p>Empty cells in the layout editor can be populated by dragging and dropping views from the list of unused views into the cells in the layout editor.</p>
			<p>The default layout consists of one column only and all views from the widget and view nodes are placed in it from top to bottom. To start from a blank canvas, click the <strong class="bold">clear layout</strong> button in the upper-left corner of the layout editor. This clearing action adds all views to the list on the left.</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">Node labels (the text below the node) are used in the layout editor to identify the views. It is best practice to change the node labels to meaningful descriptions, to easily recognize the views in the layout editor.</p>
			<p>If you want to<a id="_idIndexMarker1020"/> exclude the view of a node from the composite view, you can go to the first tab of the layout editor, called <strong class="bold">Node Usage</strong>, and disable the node view for the WebPortal/composite view.</p>
			<p>It is also possible to have nested components, which are a component inside a component. If the nested component has a view, this shows up as a node view in the layout editor. Thus, you can integrate the view of the nested component into your layout as you would do for any other node.</p>
			<p>A composite view can be easily beautified – for example, by adding a header or a sidebar and styling the text body. You are in luck as there are shared components on the KNIME Hub to do that. </p>
			<p><em class="italic">Figure 11.11</em> shows the web page before and after the introduction of some styling elements using some of the available<a id="_idTextAnchor402"/> shared components:</p>
			<div>
				<div id="_idContainer885" class="IMG---Figure">
					<img src="image/B16391_11_011.jpg" alt="Figure 11.11 – Web page without (left) and with (right) a header, sidebar, and additional information in the body of the page"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.11 – Web page without (left) and with (right) a header, sidebar, and additional information in the body of the page</p>
			<p>You will see some <a id="_idIndexMarker1021"/>shared components in action at the end of this section when we build the cancer cell classification example. </p>
			<p>Let's first find out more about shared components.</p>
			<h2 id="_idParaDest-198"><a id="_idTextAnchor403"/>Shared Components</h2>
			<p>In the previous section, <em class="italic">Creating Composite Views</em>, we discussed how to use components to <a id="_idIndexMarker1022"/>create composite views and then pages for WebPortal applications. Components can also bundle up functionalities that can be reused and shared with others via the KNIME Hub and KNIME Server. These functionalities range from simple repetitive tasks, such as entering credentials into a database, to more complicated tasks, such as optimizing parameters.</p>
			<p>In comparison to metanodes, components have their own configuration window. They can be configured without touching the individual nodes inside – providing a handy way to hide configuration complexity. Of course, if needed, you can still open the component, dive into the details, and make any adjustments relevant to your use case.</p>
			<p>To add settings in the configuration window of a component, you can use the <strong class="bold">configuration nodes</strong>. They work similarly to widget nodes but at the level of the configuration window instead of the composite view. You can find them in the Node Repository under <strong class="bold">Workflow Abstraction</strong> | <strong class="bold">Configuration</strong>. Components can have a description in the <strong class="bold">Description</strong> panel like any KNIME node. From inside a component, you can edit the description by clicking on the pen in the upper-left corner of the <strong class="bold">Description</strong> panel in KNIME Analytics Platform.</p>
			<p>For components to become like all other KNIME nodes, they have to be shared.</p>
			<p>To share a component, you right-click on it and select <strong class="bold">Component</strong> | <strong class="bold">Share…</strong>.</p>
			<p>Then, you decide where to save the template: either on your local workspace, on the KNIME Hub, or on KNIME Server. </p>
			<p>Next, you can select the<a id="_idIndexMarker1023"/> link type to link the component instance to the component template. The link type defines the location of the component template when checking for updates. After choosing the destination of the component template, a dialog opens asking you for the link type:</p>
			<ul>
				<li><strong class="bold">Create absolute link</strong>: The workflow uses the absolute path when looking for the component template.</li>
				<li><strong class="bold">Create mountpoint-relative link</strong>: The workflow uses the relative path starting from the selected mountpoint when looking for the component template.</li>
				<li><strong class="bold">Create workflow-relative link</strong>: The workflow uses a relative path starting from the current workflow folder when looking for the component template.</li>
				<li><strong class="bold">Don't create link with shared instance</strong>: A component template is created but is not linked to the current instance.<p class="callout-heading">Tip</p><p class="callout">When you deploy a workflow to KNIME Server, make sure that all link types on the component instances also work when on the server.</p></li>
			</ul>
			<p>To create an instance of a shared component, simply drag and drop the component template from the KNIME Hub or KNIME Explorer to the workflow editor. Newly created instances are read-only and link to the corresponding shared component. </p>
			<p>Each time the workflow is started, KNIME Analytics Platform searches for possible updates of the component template and if there are any, proposes to also update the instance. This has the advantage that if something changes in the component template, the changes are automatically reflected in the instances.</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">Being read-only, new instances cannot be edited. You need to disconnect the instance from the template first in order to change its content. To do that, you need to right-click on the component instance and select <strong class="bold">Component</strong> | <strong class="bold">Disconnect Link</strong>.</p>
			<p>There are a lot of public<a id="_idIndexMarker1024"/> shared components on the EXAMPLES Server or the KNIME Hub. You will also find some shared components in the workflow group for this chapter on the KNIME Hub.</p>
			<p>Now that you are familiar with shared components and the WebPortal, let's have a look at the deployment example of cancer cell classification.</p>
			<h2 id="_idParaDest-199"><a id="_idTextAnchor404"/>Building a WebPortal Application for Cancer Cell Classification</h2>
			<p>Let's go back to the<a id="_idIndexMarker1025"/> cancer data and the workflow for cancer cell classification described in <a href="B16391_09_Final_NM_ePUB.xhtml#_idTextAnchor316"><em class="italic">Chapter 9</em></a>, <em class="italic">Convolutional Neural Networks for Image Classification</em>. In this section, we will show how to deploy a trained deep learning model as a web application using KNIME WebPortal. </p>
			<p>The goal here is to produce a web application for pathologists who are not familiar with KNIME Analytics Platform and data science in general. It should help them in their daily routine by suggesting a cancer classification during the analysis of histopathology images. An additional requirement is the option to upload multiple images in sequence without restarting the application. <em class="italic">Figure 11.12</em> shows you the workflow implementing the application. You can download the workflow from the KNIME Hub: <a href="https://hub.knime.com/kathrin/spaces/Codeless%20Deep%20Learning%20with%20KNIME/latest/Chapter_11/">https://hub.knime.com/kathrin/spaces/Codeless%20Deep%20Learning%20with%20KNIME/latest/Chapter_11/</a>.</p>
			<p>Let's focus first on the middle part of the workflow: the loop body ins<a id="_idTextAnchor405"/>ide the annotation box:</p>
			<div>
				<div id="_idContainer886" class="IMG---Figure">
					<img src="image/B16391_11_012.jpg" alt="Figure 11.12 – Deployment workflow to score new histopathology images from a web browser"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.12 – Deployment workflow to score new histopathology images from a web browser</p>
			<p>At each iteration, one <a id="_idIndexMarker1026"/>image is uploaded, the classification is produced, and two web pages are presented to the pathologist. The loop takes care of the iterations and the two components in the loop body – the <strong class="bold">Upload Image</strong> component and the <strong class="bold">View Results</strong> compon<a id="_idTextAnchor406"/>ent – of the web pages:</p>
			<div>
				<div id="_idContainer887" class="IMG---Figure">
					<img src="image/B16391_11_013.jpg" alt="Figure 11.13 – Workflow inside the Upload Image component and the webpage created by it"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.13 – Workflow inside the Upload Image component and the webpage created by it</p>
			<p>The <a id="_idIndexMarker1027"/>loop body starts with the <strong class="bold">Upload Image</strong> component, which creates the first web page of the web application. You can see the created page as well as the inside of the component in <em class="italic">Figure 11.13</em>. </p>
			<p>The header of the web page, with the KNIME logo and the navigation path, is created by the shared component named <strong class="bold">WebPortal Header</strong>. For WebPortal applications with many steps, a header like this helps the end user to get an overview of the current step (in frame), the steps already covered (yellow boxes or light-gray boxes), and the steps yet to come (gray boxes). </p>
			<p>The little green arrow in the lower-left corner of the <strong class="bold">WebPortal Header</strong> component indicates that this component instance is linked to a shared component template. The <strong class="bold">WebPortal Header</strong> component comes with a configuration window (<em class="italic">Figure 11.14</em>), resulting from configuration nodes in it. In this configuration window, you can define the step labels and whether to outline the current st<a id="_idTextAnchor407"/>ep with a yellow frame:</p>
			<div>
				<div id="_idContainer888" class="IMG---Figure">
					<img src="image/B16391_11_014.jpg" alt="Figure 11.14 – Configuration window of the WebPortal Header component"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.14 – Configuration window of the WebPortal Header component</p>
			<p>The <a id="_idIndexMarker1028"/>web page for the <strong class="bold">Upload Image</strong> step includes just one item to upload the next image. By clicking on the <strong class="bold">Choose File</strong> button, the pathologist uploads the file with the histopathology slide image to a temporary local folder. This item<a id="_idIndexMarker1029"/> is created by the <strong class="bold">File Upload Widget</strong> node. The output variable of the node contains the file path to the selected image in a temporary folder.</p>
			<p>In the workflow in <em class="italic">Figure 11.12,</em> the flow<a id="_idIndexMarker1030"/> variable is written into a table using the <strong class="bold">Variable to Table Row</strong> node. The <strong class="bold">Load and preprocess images</strong> metanode performs the same preprocessing steps as for training, as described in <a href="B16391_09_Final_NM_ePUB.xhtml#_idTextAnchor316"><em class="italic">Chapter 9</em></a>, <em class="italic">Convolutional Neural Networks for Image Classification</em>. That is, it loads the image, normalizes it, splits it into patches of 64 x 64 pixels, and swaps some dimensions to fit the VGG16 model used as the starting point for the transfer learning approach.</p>
			<p>Next, the workflow reads the trained deep learning network using the <strong class="bold">Keras Network Reader</strong> node and applies it to the image patches with the <strong class="bold">Keras Network Executor</strong> node.</p>
			<p>In the <strong class="bold">Prepare Visualization</strong> metanode, the image patches are assigned a color, according to<a id="_idIndexMarker1031"/> the probability of belonging to one of the three cancer classes.</p>
			<p>Finally, the results are visualized using the last component, named <strong class="bold">View Results</strong>. <em class="italic">Figure 11.15</em> shows you the workflow inside the component and the corresponding web page obtained when executing the wo<a id="_idTextAnchor408"/>rkflow in the web browser:</p>
			<div>
				<div id="_idContainer889" class="IMG---Figure">
					<img src="image/B16391_11_015.jpg" alt="Figure 11.15 – Workflow snippet inside the View Results component and the web page created by it"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.15 – Workflow snippet inside the View Results component and the web page created by it</p>
			<p>In the <strong class="bold">View Results</strong> component, we again find the shared <strong class="bold">WebPortal Header</strong> component, to<a id="_idIndexMarker1032"/> create the page header, this time with the <strong class="bold">Upload Image</strong> box in yellow (past steps) and the <strong class="bold">Results</strong> box with the yellow frame (current step). </p>
			<p>The <strong class="bold">Table to Image</strong> node<a id="_idIndexMarker1033"/> converts the image contained in the first row of the selected column into an image object. This image object is then fed into the <strong class="bold">Image Output Widget</strong> node<a id="_idIndexMarker1034"/> to display it inside a composite view. </p>
			<p>Lastly, the pathologist must decide whether to upload another image. This selection part is implemented in the web <a id="_idIndexMarker1035"/>page via radio buttons and in the workflow by the <strong class="bold">Single Selection Widget</strong> node. </p>
			<p>This node produces a flow variable at its output po<a id="_idTextAnchor409"/>rt with the selected option: </p>
			<div>
				<div id="_idContainer890" class="IMG---Figure">
					<img src="image/B16391_11_016.jpg" alt="Figure 11.16 – Configuration window of the Variable Condition Loop End node"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.16 – Configuration window of the Variable Condition Loop End node</p>
			<p>This whole snippet, from <strong class="bold">Upload Image</strong> to <strong class="bold">View Results</strong>, is wrapped in a loop, to meet the additional <a id="_idIndexMarker1036"/>requirement to give the pathologist the option to upload multiple images. The last radio button selection is used as the loop stopping criterion.</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">Remember that a loop always needs a loop start and a loop end node. In between these two nodes, there is the loop body, which is executed at each loop iteration.</p>
			<p>There are many different loop start and loop end nodes available. Some, for example, use only a subset of rows at each iteration (<strong class="bold">Group Loop Start</strong> and <strong class="bold">Chunk Loop Start</strong>) and some only a subset of the columns (<strong class="bold">Column List Loop Start</strong>).</p>
			<p>The workflow in <em class="italic">Figure 11.12</em> uses the <strong class="bold">Generic Loop Start</strong> node<a id="_idIndexMarker1037"/> to start the loop and the <strong class="bold">Variable Condition Loop End</strong> node to close the loop. The two nodes allow us to<a id="_idIndexMarker1038"/> build a loop with a custom stopping criterion that can be defined in the configuration of the <strong class="bold">Variable Condition Loop End</strong> node (<em class="italic">Figure 11.16</em>). According to these settings, the loop stops if the flow variable named <strong class="source-inline">keepgoing</strong> – created by the <strong class="bold">Single Selection Widget</strong> node – has the value <strong class="source-inline">No</strong>. As the <strong class="bold">Generic Loop Start</strong> node always needs an input table, an empty table is created with<a id="_idIndexMarker1039"/> the <strong class="bold">Empty Table Creator</strong> node to feed the node.</p>
			<p>After deploying this workflow to a KNIME server and running it on KNIME WebPortal, the pathologist can easily upload new images and get the result from the automatic classification.</p>
			<p>In this section, you have learned how to build a web application using the KNIME software and how to deploy a deep learning network as a web application. </p>
			<p>Let's now discover how deep learning networks can be deployed as REST services.</p>
			<h1 id="_idParaDest-200"><a id="_idTextAnchor410"/>Building a Web Service with the REST Interface</h1>
			<p>In this section, you <a id="_idIndexMarker1040"/>will learn how to build <strong class="bold">REST</strong> services using the <a id="_idIndexMarker1041"/>KNIME software. As a practical example, we will walk through the deployment workflow of the sentiment analysis example of <a href="B16391_07_Final_NM_ePUB.xhtml#_idTextAnchor230"><em class="italic">Chapter 7</em></a>, <em class="italic">Implementing NLP Applications</em>.</p>
			<p>The KNIME Server REST API offers an interface for non-KNIME applications to communicate with KNIME Server via simple HTTP requests. The main benefit of <strong class="bold">RESTful web services</strong> is the ease of integration of the application into the company IT landscape. Self-contained and isolated applications can call each other and exchange data via the REST interface. In this way, it becomes easier to add new applications to the ecosystem.</p>
			<p>Any workflow uploaded on KNIME Server is automatically available via the <strong class="bold">REST API</strong>. This allows you to seamlessly deploy KNIME workflows as web services via the REST API and integrate them into the infrastructure of your data science lab.</p>
			<p>In the sentiment analysis example, we want to deploy the deep learning network as a <strong class="bold">REST service</strong>. In this way, external applications – for example, a website or a mobile app – can send some text to the REST service and get back the predicted sentiment.</p>
			<p>Let's quickly look at the steps required to build a deployment workflow as a REST service in KNIME Analytics Platform.</p>
			<h2 id="_idParaDest-201"><a id="_idTextAnchor411"/>Building a REST Service Workflow</h2>
			<p>In the example of sentiment prediction, the goal is to build a REST service with an input, the new movie reviews, and an output, the sentiment predictions. </p>
			<p>When building a <a id="_idIndexMarker1042"/>REST service with an input and an output, we need to define the structure of the inputs and outputs. In KNIME Analytics Platform, this can be done via the <strong class="bold">container</strong> input and output nodes.</p>
			<p class="callout-heading">Important note</p>
			<p class="callout">Not every REST service has inputs and outputs. For example, a REST service that connects to a database to get the most recent data only has outputs. A REST service that concludes the process by writing the results to a database does not need to output any results.</p>
			<p>KNIME Analytics Platform has a variety of input nodes that can be used to define the structure of the input to the REST API. You can find these nodes in the Node Repository under <strong class="bold">Workflow Abstraction</strong> | <a id="_idTextAnchor412"/><strong class="bold">Workflow Invocation</strong> (<em class="italic">Figure 11.17</em>):</p>
			<div>
				<div id="_idContainer891" class="IMG---Figure">
					<img src="image/B16391_11_017.jpg" alt="Figure 11.17 – Available container nodes to define the REST API"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.17 – Available container nodes to define the REST API</p>
			<p>As you can see in <em class="italic">Figure 11.17</em>, there are four <strong class="bold">Container Input</strong> nodes – for credentials, for one data row only, for a data table, or for flow variables. A table input allows you to send either a single data row or multiple data rows to the web service. On the other hand, a row input sends only one single data row.</p>
			<p>The <strong class="bold">Container Input (Row)</strong> and <strong class="bold">Container Input (Table)</strong> nodes have <a id="_idIndexMarker1043"/>an optional input port. This<a id="_idIndexMarker1044"/> port receives a template data table and based on that table, defines the input structure. This <a id="_idIndexMarker1045"/>template serves two purposes: first, if no input table is provided when the workflow is called via the REST API, the values from the template are used as default input to execute the workflow. Second, the table is used to define the input structure that the web service expects. If the structure of the current input differs from the template, the web service will produce an error message. The advantage of this template technique is that the input is parsed automatically and converted into the specified types.</p>
			<p>Similarly, to define the output of the<a id="_idIndexMarker1046"/> REST service, you can use one of the <strong class="bold">Container Output</strong> nodes: either the <strong class="bold">Container Output (Row)</strong> or <a id="_idIndexMarker1047"/>the <strong class="bold">Container Output (Table)</strong> node.</p>
			<p>For our deployment workflow, to classify one movie review at a time, we used a <strong class="bold">Container Input (Row)</strong> node to define the input structure and a <strong class="bold">Container Output (Row)</strong> node to define the output structure to the REST service. In order to classify one or more movie reviews at a time, the <strong class="bold">Container Input (Table)</strong> node and the <strong class="bold">Container Output (Table)</strong> node could be used.</p>
			<p>There are two ways to create a workflow that can be deployed as a REST service:</p>
			<ul>
				<li>Automatically with the <strong class="bold">Integrated Deployment</strong> feature</li>
				<li>Manually by building the workflow from scratch</li>
			</ul>
			<p>In <a href="B16391_10_Final_VK_ePUB.xhtml#_idTextAnchor367"><em class="italic">Chapter 10</em></a>, <em class="italic">Deploying a Deep Learning Network</em>, we introduced the <strong class="bold">Integrated Deployment</strong> extension of KNIME Analytics Platform, which allows you to capture parts of the training workflow and<a id="_idIndexMarker1048"/> deploy them automatically. Even there, as an example, we used the sentiment analysis case study. In <em class="italic">Figure 11.18</em>, you can see the automatically created workflow via <strong class="bold">Integrated Deployment</strong>, with a <strong class="bold">Container Input (Table)</strong> node and a <strong class="bold">Container Output (Table)</strong> node to defi<a id="_idTextAnchor413"/>ne the input and output data structures:</p>
			<div>
				<div id="_idContainer892" class="IMG---Figure">
					<img src="image/B16391_11_018.jpg" alt="Figure 11.18 – Automatically created deployment workflow from Chapter 10, Deploying a Deep Learning Network"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.18 – Automatically created deployment workflow from <a href="B16391_10_Final_VK_ePUB.xhtml#_idTextAnchor367"><em class="italic">Chapter 10</em></a>, Deploying a Deep Learning Network</p>
			<p>In <a href="B16391_10_Final_VK_ePUB.xhtml#_idTextAnchor367"><em class="italic">Chapter 10</em></a>, <em class="italic">Deploying a Deep Learning Network</em>, we saved this automatically created workflow locally and we triggered its execution through a <strong class="bold">Call Workflow (Table Based)</strong> node. Instead of<a id="_idIndexMarker1049"/> saving the workflow locally, we could deploy it on a KNIME server.</p>
			<p>The other option is to build a REST service manually from scratch. In this case, we have to provide the dictiona<a id="_idTextAnchor414"/>ry and the trained model (<em class="italic">Figure 11.19</em>):</p>
			<div>
				<div id="_idContainer893" class="IMG---Figure">
					<img src="image/B16391_11_019.jpg" alt="Figure 11.19 – Manually built REST service deployment workflow"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.19 – Manually built REST service deployment workflow</p>
			<p>As you can see, it<a id="_idIndexMarker1050"/> looks really similar to the previous workflow in <em class="italic">Figure 11.18</em>, with the only difference that it uses a <strong class="bold">Table Reader</strong> node and a <strong class="bold">Keras Network Reader</strong> node to read the dictionary and the trained model. In addition, a template table has been inserted to define the input data structure to the REST API.</p>
			<p>We have the REST service. Let's see how we can call it.</p>
			<h3>Calling a REST Service</h3>
			<p>To call the deployed workflow as a REST service<a id="_idIndexMarker1051"/> from an external application, you need to know the path to the REST service and the expected input data structure. KNIME Server can show you the API definition in your browser. Simply right-click the deployed workflow on the server and select <strong class="bold">Show API definition</strong>. A browser window opens showing the REST API definition f<a id="_idTextAnchor415"/>or this specific workflow (<em class="italic">Figure 11.20</em>):</p>
			<div>
				<div id="_idContainer894" class="IMG---Figure">
					<img src="image/B16391_11_020.jpg" alt="Figure 11.20 – Documentation of the REST API using Swagger"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.20 – Documentation of the REST API using Swagger</p>
			<p>This web page <a id="_idIndexMarker1052"/>is created using an open source framework called <strong class="bold">Swagger</strong>. Swagger<a id="_idIndexMarker1053"/> has been integrated into KNIME Server to document the REST API, to easily explore the different HTTP requests and test them.</p>
			<p>For example, you could test how to trigger the execution of the REST service with a <strong class="bold">POST</strong> request. By selecting the POST request, Swagger shows you an overview of the possible parameters, the schema for the input data, and the URL to call. You can also try it out by clicking on the <strong class="bold">Try it out</strong> button. </p>
			<p>You can also <a id="_idIndexMarker1054"/>trigger the execution of the REST service from another workflow using the <strong class="bold">Call Workflow (Table Based)</strong> node. This node calls local or remote workflows, sending the provided input table and outputting the REST service response. </p>
			<p>The workflow in <em class="italic">Figure 11.21</em> shows how to trigger the e<a id="_idTextAnchor416"/>xecution of a REST service on KNIME Server:</p>
			<div>
				<div id="_idContainer895" class="IMG---Figure">
					<img src="image/B16391_11_021.jpg" alt="Figure 11.21 – This workflow triggers the execution of a REST service on KNIME Server"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.21 – This workflow triggers the execution of a REST service on KNIME Server</p>
			<p>If you want to run a workflow on KNIME Server, you have to ensure that the <strong class="bold">Call Workflow</strong> node is connected to the server. To <a id="_idIndexMarker1055"/>connect to a KNIME server, you can use the <strong class="bold">KNIME Server Connection</strong> node. In its configuration window, you need to provide the address to the server by either typing it in manually or by selecting a mountpoint and entering the credentials.</p>
			<p>In the configuration window of the <strong class="bold">Call Workflow (Table Based)</strong> node, you get the list of all the workflows deployed on KNIME Server by clicking on the <strong class="bold">Browse workflows</strong> button. After selecting a workflow, in the advanced settings, you can assign the input table to the input of the called workflow and the output table to the output of the called workflow. This <a id="_idIndexMarker1056"/>feature comes in very handy when the deployed workflow has many input nodes.</p>
			<p>In this section, you have learned how to deploy a workflow as a REST service on KNIME Server. Let's now conclude with some tips and tricks from our own experience.</p>
			<h1 id="_idParaDest-202"><a id="_idTextAnchor417"/>KNIME Tips and Tricks</h1>
			<p>Throughout <a id="_idIndexMarker1057"/>the book, we covered many case studies, implemented using KNIME Analytics Platform. In the KNIME Hub space of this book, you can find these workflows and you can use them as a starting point for your deep learning projects: <a href="https://hub.knime.com/kathrin/spaces/Codeless%20Deep%20Learning%20with%20KNIME/latest/">https://hub.knime.com/kathrin/spaces/Codeless%20Deep%20Learning%20with%20KNIME/latest/</a>. In this last section, we want to share some tips and tricks to work with deep learning in KNIME Analytics Platform.</p>
			<p>Let's start with data shuffling for training.</p>
			<h2 id="_idParaDest-203"><a id="_idTextAnchor418"/>Shuffling Data during Training</h2>
			<p>When<a id="_idIndexMarker1058"/> training neural networks, for faster convergence of the training process and to avoid overfitting, it is recommended to shuffle the training data before each epoch.</p>
			<p>To do that, make sure you activate the <strong class="bold">Shuffle training data before each epoch</strong> checkbox in the <strong class="bold">Advanced</strong> tab in the configuration window of the <strong class="bold">Keras Network Learner</strong> node. </p>
			<h2 id="_idParaDest-204"><a id="_idTextAnchor419"/>Using Batch Normalization</h2>
			<p>Batch normalization<a id="_idIndexMarker1059"/> is<a id="_idIndexMarker1060"/> a technique that standardizes the data in each batch. This has the effect of stabilizing the learning process and dramatically reducing the number of training epochs required to train deep networks. </p>
			<p>To add batch normalization to<a id="_idIndexMarker1061"/> your network, you can use the <strong class="bold">Keras Batch Normalization Layer</strong> node. </p>
			<h2 id="_idParaDest-205"><a id="_idTextAnchor420"/>Keeping Your Workflow Clean and Structured</h2>
			<p>To make it <a id="_idIndexMarker1062"/>easy to maintain your workflows, it is important to document and structure them in logical, easy-to-understand blocks:</p>
			<ul>
				<li><strong class="bold">Use metanodes and components</strong>: To keep large workflows tidy and clean, it is recommended to hide the implementation details and some of the complexity inside metanodes or components. Indeed, to make a workflow easily understandable at first glance, you can create one metanode or component for each step in the project, such as data access, data preprocessing, model training, and model evaluation. Inside each metanode/component, you can have further metanodes and components for different sub-steps, such as, for example, different preprocessing steps or network layers.</li>
				<li><strong class="bold">Documenting a workflow</strong>: KNIME Analytics Platform offers you three ways to document a workflow:<p><strong class="bold">a) Node labels</strong></p><p><strong class="bold">b) Annotation boxes</strong></p><p><strong class="bold">c) Workflow description</strong></p></li>
			</ul>
			<p>Node labels and annotation boxes help you and other users to understand at a glance the workflow's tasks and subtasks easily.</p>
			<p>It is also possible to add meta-information to your workflow through the <strong class="bold">Description</strong> panel. To do so, click anywhere in the workflow editor (not on a node). The <strong class="bold">Description</strong> view changes to a workflow description with meta-information about the workflow: the title, description, and related links and tags.</p>
			<h2 id="_idParaDest-206"><a id="_idTextAnchor421"/>Using the GroupBy Node and Pivoting Node to Avoid Loops</h2>
			<p>The <a id="_idIndexMarker1063"/>execution of loops can be slow as the <a id="_idIndexMarker1064"/>nodes must be executed at each iteration. Often, however, no doubt due to our programming background, we overdo the use of loops and use them even when more efficient alternatives are available.</p>
			<p>For example, some loops could be avoided by simply using the following aggregation nodes: <strong class="bold">GroupBy</strong>, <strong class="bold">Pivoting</strong>, <strong class="bold">Ungroup</strong>, and <strong class="bold">Unpivoting</strong>. <strong class="bold">Aggregation</strong> nodes often perform the same task as a loop and are much more efficient in terms of execution speed.</p>
			<h2 id="_idParaDest-207"><a id="_idTextAnchor422"/>Specifying the Execution Order</h2>
			<p>When you have <a id="_idIndexMarker1065"/>parallel branches in a workflow, it is sometimes important to define an execution order. <em class="italic">Figure 11.22</em> shows you a very simple example where the o<a id="_idTextAnchor423"/>rder of writing tables into Excel sheets is enforced:</p>
			<div>
				<div id="_idContainer896" class="IMG---Figure">
					<img src="image/B16391_11_022.jpg" alt="Figure 11.22 – In this workflow, the execution order is forced by using a flow variable connection"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.22 – In this workflow, the execution order is forced by using a flow variable connection</p>
			<p>Of course, the <strong class="bold">Excel Sheet Appender (XLS)</strong> node<a id="_idIndexMarker1066"/> should be executed after the <strong class="bold">Excel Writer (XLS)</strong> node. By using a flow variable connection from the flow <a id="_idIndexMarker1067"/>variable output port of the <strong class="bold">Excel Writer (XLS)</strong> node to the flow variable input port of the <strong class="bold">Excel Sheet Appender (XLS)</strong> node, we <a id="_idIndexMarker1068"/>force the execution of the <strong class="bold">Excel Sheet Appender (XLS)</strong> node to start only after the execution of the <strong class="bold">Excel Writer (XLS)</strong> node is finished.</p>
			<h1 id="_idParaDest-208"><a id="_idTextAnchor424"/>Summary</h1>
			<p>In this chapter, you learned about two more options to deploy your trained deep learning networks: web applications and REST services. We finished the chapter – and the book – with some tips and tricks to successfully work with deep learning in KNIME Analytics Platform.</p>
			<p>In the first section of this chapter, you learned how to build web applications using KNIME WebPortal of KNIME Server so that end users can execute their workflows and interact with the web pages comfortably from a web browser.</p>
			<p>Next, you learned how to build, deploy, and call REST services using KNIME Server to integrate your deep learning networks into the company's IT infrastructure. You learned about the many options to define the input and output data structure of the REST service, how to inspect the REST API using the open source Swagger tool, and how to trigger the execution of a REST service from within KNIME Analytics Platform.</p>
			<p>In the last section, we collated some tips and tricks from our own experience that might turn out to be helpful when working with deep learning in KNIME Analytics Platform.</p>
			<p>At this point, we think that you are well equipped to start building and deploying your own workflows to train and use deep learning networks suitable to your own business cases and data with the KNIME software. </p>
			<h1 id="_idParaDest-209"><a id="_idTextAnchor425"/>Questions and Exercises</h1>
			<ol>
				<li>Which kind of nodes can you use to add input fields to a composite view?<p>a) Configuration nodes</p><p>b) Widget nodes</p><p>c) View nodes</p><p>d) Container input nodes</p></li>
				<li>How can you create a composite view?<p>a) By selecting some nodes, right-clicking, and selecting <strong class="bold">Create Metanode</strong></p><p>b) By selecting some view or widget nodes, right-clicking, and selecting <strong class="bold">Create Metanode</strong></p><p>c) By selecting some view or widget nodes, right-clicking, and selecting <strong class="bold">Create Component</strong></p><p>d) By right-clicking anywhere in the workflow and selecting <strong class="bold">Create Component</strong></p></li>
				<li>How can you define the layout of a composite view?<p>a) Right-click on a component and select <strong class="bold">Component</strong> | <strong class="bold">Layout</strong>.</p><p>b) Double-click on a component and go to the <strong class="bold">Layout</strong> tab in the configuration window.</p><p>c) Go inside a component and click on the <strong class="bold">Layout</strong> button in the toolbar.</p><p>d) Right-click on a component and select <strong class="bold">Layout</strong>.</p></li>
				<li>Which node can be used to define the input and output of a REST service?<p>a) Configuration nodes</p><p>b) Widget nodes</p><p>c) View nodes</p><p>d) Container nodes</p></li>
			</ol>
		</div>
	</body></html>